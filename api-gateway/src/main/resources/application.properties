# Nom du service
spring.application.name=api-gateway
spring.cloud.config.fail-fast=true

# Port de l'API Gateway
server.port=8080
# Adresse du serveur Eureka (Discovery Server)
eureka.client.service-url.defaultZone=http://localhost:8761/eureka

# Où récupérer la config centralisée (via Config Server)
spring.cloud.config.uri=http://localhost:8888

# Timeout pour éviter les erreurs de démarrage si Eureka est lent
eureka.instance.lease-renewal-interval-in-seconds=10
eureka.instance.lease-expiration-duration-in-seconds=30

# ROUTING : Configuration des routes (via Gateway)
spring.cloud.gateway.routes[0].id=user-service
spring.cloud.gateway.routes[0].uri=lb://USER-SERVICE
spring.cloud.gateway.routes[0].predicates[0]=Path=/users/**

spring.cloud.gateway.routes[1].id=event-service
spring.cloud.gateway.routes[1].uri=lb://EVENT-SERVICE
spring.cloud.gateway.routes[1].predicates[0]=Path=/events/**

spring.cloud.gateway.routes[2].id=reservation-service
spring.cloud.gateway.routes[2].uri=lb://RESERVATION-SERVICE
spring.cloud.gateway.routes[2].predicates[0]=Path=/reservations/**
